i-MSCP HowTo Install for Fedora Core 9
================================================================================
For other Linux distributions please check the other INSTALL files.
================================================================================

Table of Content
================
1) Version Info
2) Requirements
3) Introduction
4) Installation
5) Update
6) Uninstall
7) Credits

================================================================================
1) Version Info
---------------
i-MSCP Version:		1.0.0
INSTALL Script:		1.6
Maintainer:
Homepage:			http://i-mscp.net
Linux Distros:		Fedora Core 9

================================================================================
2) Requirements
---------------
There is no must have for a system using i-MSCP. This is only a recommendation:

Pentium III or K6-4 with 500 MHz
512 MB RAM
100 MB disk space (only for install of i-MSCP)
Debian (or even any other *NIX-Distribution)

All required packages are listed in ./docs/fedora-packages

================================================================================
3) Introduction
---------------
i-MSCP delivers a complete hosting automation appliance by offering significant
security, total-cost-of-ownership, and performance advantages over competing
commercial solutions.

With i-MSCP you can configure your server and applications, create user with
domains with a few point-and-click operations that take less than a minute.
There is no limit to the number of resellers, users and domains that can be
created. The core of i-MSCP are 3 easy-to-use, web-based control panels. i-MSCP
provides graphic user interfaces for the administrators, resellers and users.

================================================================================
4) Installation
---------------
Make sure you are logged in as root and MySQL is running.

1. Untar or unzip the distribution files to a secure directory:
	# cd /usr/local/src
	# tar xjvf imscp-1.0.0.tar.bz2

2. Change to the newly created directory:
	# cd ./imscp-1.0.0

3. Install the required modules from 'fedora-packages'
	# wget http://download.fedora.redhat.com/pub/epel/5/ARCH/epel-release-5-3.noarch.rpm
	# rpm -Uvh epel-release-5-3.noarch.rpm
	# yum install `cat ./docs/Fedora/fedora-packages`

	# cpan2rpm -i http://search.cpan.org/CPAN/authors/id/P/PH/PHOENIX/Term-ReadPassword-0.07.tar.gz
	# wget -P /tmp/core http://hany.sk/mirror/fedora/releases/7/Everything/i386/os/Fedora/perl-Net-LibIDN-0.09-3.fc7.i386.rpm
	# rpm -i /tmp/core/perl-Net-LibIDN-0.09-3.fc7.i386.rpm

4. (optional) Check the imscp.conf and adapt it to your requirements.

5. Install Courier
	# cp -f ./courier*.rpm /usr/local/
	# cd /usr/local/

	# wget http://www.thatfleminggent.com/packages/fedora/7/i386/courier-authlib-0.59.3-1.fc7.mf.i386.rpm
	# wget http://www.thatfleminggent.com/packages/fedora/7/i386/courier-authlib-userdb-0.59.3-1.fc7.mf.i386.rpm
	# wget http://www.thatfleminggent.com/packages/fedora/7/i386/courier-imap-4.1.3-1.fc7.mf.i386.rpm

	# rpm -i courier-authlib-0.59.3-1.fc7.mf.i386.rpm
	# rpm -i courier-authlib-userdb-0.59.3-1.fc7.mf.i386.rpm
	# rpm -i courier-imap-4.1.3-1.fc7.mf.i386.rpm

	Create group and user with 3000 UID so i-MSCP doesn't cause conflicts with user
	# groupadd courier -g 3000
	# useradd -u 3000 -c 'Courier Mail Server' -d /dev/null -g courier -s /bin/false courier

6. Build the System by using make:
	# ./imscp-build

6. Copy all the directories into your system (you may make backups)
	# cp -RLf /tmp/imscp/* /
	# cp -Rv /tmp/imscp/etc/init.d /etc/rc.d/
	# ln -s /etc/rc.d/init.d /etc/init.d

	# mkdir /var/mail/virtual

7. Bind setup
	# mv /var/named/data /var/named/data2
	# ln -s /var/named/chroot/var/named/data /var/named/data

	# mkdir /var/www/scoreboards

	* create sasl2 database:
	# touch /etc/sasldb2

8. Additional apache setup
	# echo 'include vhosts/*.conf' >> /etc/httpd/conf/httpd.conf

	# mkdir -p /var/spool/postfix/etc
	# cp /etc/sasldb2 /var/spool/postfix/etc/sasldb2

	# chown apache:apache /var/www/imscp/gui/tools/webmail/data

9. Now it's time to set up the frontend. Change into the engine directory:
	# cd /var/www/imscp/engine/setup

9a. Set the MySQL password, if not set:
	# mysqladmin -u root password YOUR_PASSWORD

10. Start the engine setup:
	# perl imscp-setup
	(Be careful: the file /etc/named.conf must exist before you run the script.
	Otherwise setup will failed on trying to backup it!
	You can use the caching-nameserver package or the system-config-bind tool
	for create it or you can use touch!)

11. Install i-MSCP step-by-step

	If you get no error, all went good; if you get one, look at
	http://i-mscp.net to solve the problem.

12. Modify some system values:
	# chmod 777 /var/www/imscp/gui/phptmp

	* Install Daemon:
	# chmod +x /etc/init.d/imscp
	# chkconfig --add imscp
	# service imscp start

13. Clean the temporary folders:
	# rm -R /tmp/imscp

================================================================================
5) Update
---------
NOTE: i-MSCP can only be updated from post 1.0.0. If you have a
version prior 1.0.0 (final release) installed, update to i-MSCP 1.0.0 first.

Make sure you are logged in as root and MySQL is running.

1. Untar or unzip the distribution files to a secure directory:
	# cd /usr/local/src
	# tar xjvf imscp-1.0.0.tar.bz2

2. Change to the newly created directory:
	# cd ./imscp-1.0.0

3. Install the required modules from 'fedora-packages'
	# yum install `cat ./docs/Fedora/fedora-packages`

	# cpan2rpm -i http://search.cpan.org/CPAN/authors/id/P/PH/PHOENIX/Term-ReadPassword-0.07.tar.gz
	# wget -P /tmp/core http://hany.sk/mirror/fedora/releases/7/Everything/i386/os/Fedora/perl-Net-LibIDN-0.09-3.fc7.i386.rpm
	# rpm -i /tmp/core/perl-Net-LibIDN-0.09-3.fc7.i386.rpm

4. (optional) Check the imscp.conf and adapt it to your requirements.

5. Stop the imscp_daemon and build the System by using make:
	# /etc/init.d/imscp_daemon stop
	# make -f Makefile.fedora install

6. Backup files
	# cp -v /var/www/imscp/engine/imscp-db-keys.pl /tmp/imscp/var/www/imscp/engine/
	# cp -v /var/www/imscp/engine/messenger/imscp-db-keys.pl /tmp/imscp/var/www/imscp/engine/messenger/
	# cp -v /var/www/imscp/gui/include/imscp-db-keys.php /tmp/imscp/var/www/imscp/gui/include/
	# cp -v /var/www/imscp/gui/themes/user_logos/* /tmp/imscp/var/www/imscp/gui/themes/user_logos/
	# cp -v /var/www/imscp/gui/tools/webmail/data/* /tmp/imscp/var/www/imscp/gui/tools/webmail/data/

7. Delete old files to avoid security risks:
	# rm -Rf /var/www/imscp/engine/
	# rm -Rf /var/www/imscp/gui/{admin,client,include,orderpanel,themes,reseller}/
	# rm -Rf /var/www/imscp/gui/tools/{pma/,filemanager/,webmail/,index.php}
	# rm -Rf /var/www/imscp/gui/{*.php,favicon.ico,robots.txt}

8. Copy /usr and /var directories into your system (you may make backups)
	# cp -Rv /tmp/imscp/usr/* /usr/
	# cp -Rv /tmp/imscp/var/* /var/

9. Backup imscp.conf and copy the /etc directory into your system (you may make backups):
	# mv -v /etc/imscp/imscp.conf /etc/imscp/imscp.old.conf
	# cp -Rv /tmp/imscp/etc/* /etc/

10. Now it's time to update your installation. Change into the engine directory:
	# cd /var/www/imscp/engine/setup

11. Start the engine update:
	# perl imscp-update

12. Update i-MSCP step-by-step

	If you get no error, all went good; if you get one, look at
	http://i-mscp.net to solve the problem.

13. Clean the temporary folders:
	# rm -fR /tmp/imscp/

================================================================================
6) Uninstall
------------
Make sure you are logged in as root and MySQL is running.

1. Change into the engine directory:
	# cd /var/www/imscp/engine/setup

2. Start the uninstall script:
	# perl imscp-uninstall

3. Clean up your system

================================================================================
7) Credits
----------

i-MSCP is a project of i-MSCP | internet Multi Server Control Panel.
i-MSCP, internet Multi Server Control Panel and the i-MSCP logo are trademarks
of the i-MSCP | internet Multi Server Control Panel Project Team.

Please visit our site under http://i-mscp.net for further information on
i-MSCP and other themes.

We hope you enjoy using i-MSCP. If you like it, help us, to make it better. We
would be glad on any help provided!
